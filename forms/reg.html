
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Form</title>
    <script
    src="https://code.jquery.com/jquery-3.6.0.js"
    integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
    crossorigin="anonymous">
    </script>
    <link rel="stylesheet" href="../css/reg.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<div>
  
  <form>
    <h4 class="text-warning text-center pt-5">Registration Page</h4>

    <label>
      <input type="text" class="input" name="email" placeholder="ENTER EMAIL"/>
        <div class="line-box">
          <div class="line"></div>
        </div>
    </label>

    <label>
        <input type="text" class="input" name="username" placeholder="ENTER USERNAME"/>
        <div class="line-box">
          <div class="line"></div>
        </div>
    </label>

    <label>
        <input type="password" class="input" name="password" placeholder="ENTER PASSWORD"/>
        <div class="line-box">
          <div class="line"></div>
        </div>
    </label>

    <label>
      <input type="password" class="input" name="confirm" placeholder="CONFIRM PASSWORD"/>
      <div class="line-box">
        <div class="line"></div>
      </div>
    </label>

    <button type="submit">submit</button>
  </form>

    <hr>
    <form class="search-wrapper cf">
        <input type="text" placeholder="Course Code" required style="box-shadow: none">
        <button type="submit">Add</button>
    </form>
    <hr>



    <hr>


    <div class="container">
        <h1>Register</h1>
        <p>Please fill in this form to register your courses</p>
        <hr>

        <p>Reg form submit as json</p>
        <!-- HTML-->
        <form id="contact-form" action="" method="post">
            <label for="name">Name</label>
            <input type="text" id="name" name="name" placeholder="Name" required="" />
            <label for="message">Message</label>
            <textarea
                id="message"
                name="message"
                placeholder="Message"
                required=""
            ></textarea>

            <label for="email"><b>Email</b></label>
            <input type="text" placeholder="Enter Email" name="email" id="email" required>
        
            <label for="psw"><b>Password</b></label>
            <input type="password" placeholder="Enter Password" name="psw" id="psw" required>
        
            <label for="psw-repeat"><b>Repeat Password</b></label>
            <input type="password" placeholder="Repeat Password" name="psw-repeat" id="psw-repeat" required>
            <hr>
            <p>Dynamic with jQuery</p>
            <div class="row">
                <div class="col-md-4"></div>
                <div class="col-md-4">
                    <form action="" method="post">
                        <div class="input_fields_wrap">
        
                        <button class="add_field_button">Add More Fields</button>
                        <input type="text" class="form-control mb-3" name="mytext[]" placeholder="Enter Price">
                        </div>
                        <button type="submit" class="btn btn-primary">Submit</button>
                    </form>
                </div>
                <div class="col-md-4"></div>
            </div>
            <p>By creating an account you agree to our <a href="#">Terms & Privacy</a>.</p>
            <button type="submit" class="registerbtn">Register</button>
        </form>
    </div>
</div>
<hr>
    <script>
        $(document).ready(function() {
        var max_fields      = 10; //maximum input boxes allowed
        var wrapper   		= $(".input_fields_wrap"); //Fields wrapper
        var add_button      = $(".add_field_button"); //Add button ID

        var x = 1; //initlal text box count
        $(add_button).click(function(e){ //on add input button click
        e.preventDefault();
            if(x < max_fields){ //max input box allowed
                x++; //text box increment
                $(wrapper).append('<div class="input-group mb-3"><input placeholder="Enter Price" type="text" name="mytext[]" class="form-control"><div class="input-group-append"><button class="btn btn-outline-danger remove_field" type="button">Remove</button></div></div>'); //add input box
            }
        });

        $(wrapper).on("click",".remove_field", function(e){ //user click on remove text
            e.preventDefault(); $(this).parent('div').parent('div').remove(); x--;
            })
        });
    </script>



    <!-- JavaScript -->
    <script>
      function convertFormToJSON(form) {
        const array = $(form).serializeArray(); // Encodes the set of form elements as an array of names and values.
        const json = {};
        $.each(array, function () {
          json[this.name] = this.value || "";
        });
        return json;
      }

      $("#contact-form").on("submit", function (e) {
        e.preventDefault();
        const form = $(e.target);
        const json = convertFormToJSON(form);
        console.log(json);
        //send to backend
        var data = {
        test: $( "#test" ).val()
        };
        var options = {
        url: "test.php",
        dataType: "text",
        type: "POST",
        data: { test: JSON.stringify( data ) }, // Our valid JSON string
        success: function( data, status, xhr ) {
            //...
        },
        error: function( xhr, status, error ) {
            //...
        }
        };
        $.ajax( options );

        //end send
      });
    </script>

    <!-- <?php
    header('Content-Type: text/plain');
    $test = utf8_encode($_POST['test']); // Don't forget the encoding
    $data = json_decode($test);
    echo $data->test;
    exit();
    ?> -->
 </body>
</html>
